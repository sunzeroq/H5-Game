<html>
  <head>
    <meta charset="utf-8">
    <title></title>

    <style type="text/css">
      canvas { border: 1px solid black; }
    </style>
  </head>

  <body>
    <canvas id="id_canvas" width="800" height="600"></canvas>

    <script type="text/javascript">

    var log = console.log.bind(console);
    var imageFromPath = function(path) {
         var img = new Image();
         img.src = path;
         return img;
    }
    //object
    var Paddle = function() {
         var image = imageFromPath('Wall.jpg');
         var o = {
             image: image,
             x: 100,
             y: 300,
             speed: 5,
             width: 200,
             height: 100,
         }
         o.moveleft = function() {
              paddle.x -= paddle.speed;
         }
         o.moveright = function() {
              paddle.x += paddle.speed;
         }
         return o;
    }
    var Ball = function() {
         var image = imageFromPath('Ball.png');
         var o = {
             image: image,
             x: 100,
             y: 100,
             speed: 10,
             width: 50,
             height: 50,
         }
         return o;
    }

    var GuaGame = function () {
         var g = {};
         var canvas = document.querySelector('#id_canvas');
         var context = canvas.getContext('2d');
         g.canvas = canvas;
         g.context = context;
         setInterval(function () {

         },1000/60)
    }

    var leftkey = false;
    var rightkey = false;
    var paddle = Paddle();
    var ball = Ball();
    var game = GuaGame();
//events
window.addEventListener('keydown', function (event){
      var k = event.key;
      if (k == 'a') {
           leftkey = true;
      }
      if (k == 'd') {
           rightkey = true;

     }
})
window.addEventListener('keyup', function (event){
      var k = event.key;
      if (k == 'a') {
           leftkey = false;
      }
      if (k == 'd') {
           rightkey = false;

     }
})

//update
setInterval(function(){
     if (leftkey) {
          paddle.moveleft();
     }
     else if (rightkey) {
          paddle.moveright();;
     }
     //draw
     context.clearRect(0, 0, canvas.width, canvas.height);
     context.drawImage(paddle.image, paddle.x, paddle.y, paddle.width, paddle.height);
     context.drawImage(ball.image, ball.x, ball.y, ball.width, ball.height);
}, 1000/60);




    </script>
  </body>
</html>
